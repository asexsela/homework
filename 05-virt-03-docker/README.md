# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"


## 1. Задача 1

Сценарий выполения задачи:

 - создайте свой репозиторий на https://hub.docker.com;
 - выберете любой образ, который содержит веб-сервер Nginx;
 - создайте свой fork образа;
 - реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей
 HTML-код ниже:

```html
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> // Добавил кодировку
            Hey, Netology
        </head>
        <body>
            <h1>I’m DevOps Engineer!</h1>
        </body>
    </html>
```



### Ответ:
 - https://hub.docker.com/r/asexsela/simple-netology


## 2. Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

 - Высоконагруженное монолитное java веб-приложение;
 - Nodejs веб-приложение;
 - Мобильное приложение c версиями для Android и iOS;
 - Шина данных на базе Apache Kafka;
 - Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды  elasticsearch, два logstash и две ноды kibana;
 - Мониторинг-стек на базе Prometheus и Grafana;
 - MongoDB, как основное хранилище данных для java-приложения;
 - Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.


### Ответ:
 1. Высоконагруженное монолитное java веб-приложение

   Физический сервер, т.к. монолитное, следовательно в микросерверах не реализуемо без изменения кода,
  и так как высоконагруженное -  то необходим физический доступ к ресурсами, без использования гипервизора виртуалки.

 2. Nodejs веб-приложение

  Это веб приложение, для таких приложений достаточно докера, противопоказаний для контейнерной реализации не вижу.
  и в рамках микропроцессрной архитектуры может быть хорошим решением. 

 3. Мобильное приложение c версиями для Android и iOS;

  Виртуальная машина, там есть графичечкий интерфейс

 4. Шина данных на базе Apache Kafka

  Виртуальная машина, если потеря данных при потере контейнера не является критичной то можно и в контейнере.

 5. Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды  elasticsearch, два logstash и две ноды kibana

  Еластик лучше на виртуалку, кибану и логстеш  можно в контейнерах, но лучше тоже на виртуалку

 6. Мониторинг-стек на базе Prometheus и Grafana

  Сами системы не хранят как таковых данных, можно развернуть на Докере,
  минусов не вижу, плюс в скорость развертывания, возможность масштабирования для различных задачь

 7. MongoDB, как основное хранилище данных для java-приложения;

  Можно использовать Виртуальную машину, т.к. хранилище и не сказано что высоконагруженное
  в Контейнере хранить БД с данными не подходит

 8. Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

  Наверное можно в виртуалке, а уже на ней будут разворачиваться образы докера для теста, сборки и т.д



## 3. Задача 3

 1. Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;

 2. Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;

 3. Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data;

 4. Добавьте еще один файл в папку /data на хостовой машине;

 5. Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера.


 ### Ответ:

 1. ![](https://github.com/asexsela/homework/blob/master/05-virt-03-docker/images/1.png?raw=true)

 2. ![](https://github.com/asexsela/homework/blob/master/05-virt-03-docker/images/2.png?raw=true)

 3. ![](https://github.com/asexsela/homework/blob/master/05-virt-03-docker/images/3.png?raw=true)

 4. ![](https://github.com/asexsela/homework/blob/master/05-virt-03-docker/images/4.png?raw=true)

 5. ![](https://github.com/asexsela/homework/blob/master/05-virt-03-docker/images/5.png?raw=true)